function i(r){if(!(r!==null&&r.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return r;var n=r.BS_PRIVATE_NESTED_SOME_NONE;if(n!==0)return{BS_PRIVATE_NESTED_SOME_NONE:n-1|0}}function d(r,n){if(r<=0)return[];for(var e=new Array(r),t=0;t<r;++t)e[t]=n;return e}function D(r){var n=Object.prototype.toString.call(r);switch(n){case"[object Array]":return{TAG:"Array",_0:r};case"[object Boolean]":return{TAG:"Bool",_0:r};case"[object Null]":return"Null";case"[object Number]":return{TAG:"Number",_0:r};case"[object String]":return{TAG:"String",_0:r};default:return{TAG:"Object",_0:r}}}var p={classify:D};function k(r){if(typeof r=="boolean")return r}function J(r){if(r===null)return null}function F(r){if(typeof r=="string")return r}function H(r){if(typeof r=="number")return r}function W(r){if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return r}function L(r){if(Array.isArray(r))return r}var f={bool:k,$$null:J,string:F,$$float:H,object:W,array:L};function q(r){return Math.floor(r)|0}function x(r,n){var e=Math.random()*(n-r|0);return(Math.floor(e)|0)+r|0}var y={floor:q,random:x};function g(r,n,e){return r.reduce(e,n)}function E(r,n){if(r!==void 0)return n(i(r))}function a(r,n){return r!==void 0?i(r):n}function C(){var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";return g(d(32,0),"",function(n,e){var t=y.random(0,r.length),o=r.charAt(t);return n+o})}function A(r){var n=r!==void 0?a(f.object(r),{}):{},e=n.env;if(e===void 0)return"";var t=f.string(e);return t!==void 0?t:""}function z(r,n){var e=p.classify(r),t;if(typeof e!="object")t="";else switch(e.TAG){case"String":t=e._0;break;case"Object":t=a(E(e._0.publishableKey,f.string),"");break;default:t=""}return new Promise(function(o,I){var O=C(),N=Date.now(),S=A(n),u;switch(S){case"PROD":u="https://checkout.hyperswitch.io/v0/HyperLoader.js";break;case"SANDBOX":u="https://beta.hyperswitch.io/v1/HyperLoader.js";break;default:u=t.startsWith("pk_prd_")?"https://checkout.hyperswitch.io/v0/HyperLoader.js":"https://beta.hyperswitch.io/v1/HyperLoader.js"}var v=Object.fromEntries([["sessionID",O],["timeStamp",N.toString()]]);if(document.querySelectorAll('script[src="'+u+'"]').length===0){var l=document.createElement("script");l.src=u,l.onload=function(){var c=window.Hyper;if(c!=null)return o(c(r,n,v))},l.onerror=function(c){I(c)},document.body.appendChild(l);return}console.warn("INTEGRATION WARNING: There is already an existing script tag for "+u+". Multiple additions of HyperLoader.js is not permitted, please add it on the top level only once.");var _=window.Hyper;if(_!=null)return o(_(r,n,v))})}function er(r,n){return console.warn("loadStripe is deprecated. Please use loadHyper instead."),z(r,n)}export{z as loadHyper,er as loadStripe};
